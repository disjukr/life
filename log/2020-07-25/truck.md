# 우리팀 절반이 트럭에 치였다

지금 회사에 들어와서 팀 하나를 리드한 지 반년 약간 덜 됐다.

입사한 직후에 모종의 이유로 팀원 수가 순식간에 반토막이 났는데,
그러고 나니 대처할 새도 없이 수많은 맥락이 유실되어서 [트럭팩터][truck factor]에 대한 갈증을 상당히 느꼈다.

(당연하지만 팀원들이 실제로 트럭에 치인 건 아니다)\
(이후로 채용을 열심히 진행해서 원래 팀원 수는 복구했다)

트럭팩터를 높이기 위해서 팀에서 수차례 회고를 진행하면서
담당업무 문서화, 로테이션, 페어 프로그래밍 등을 조금씩 포맷을 바꿔가며 시도했는데,
내가 판단하기에 지금까지는 트럭팩터를 올리는 데 실패했다.

완전하게 강제한 것도 아니고 아직 년단위로 지켜본 것도 아니지만 지금 시점에 몇 가지 깨달은 걸 정리해보려고 한다.

[truck factor]: https://en.wikipedia.org/wiki/Bus_factor


## 사람과 사람 사이의 관계는 유기적이며 빠르게 변화한다

사람마다 담당하는 업무는 수시로 변화하며, 옛날에 어떤 업무를 직접 진행했더라도 손을 놓고 시간이 지나면 맥락을 잃게 된다.
어떤 요청에 대해서는 담당자가 자리를 비운 동안 다른 사람이 임시로 처리해놓고 잊히기도 한다.
다양한 사람들로부터 받은 자질구레한 요청들을 여러차례 대응했던 맥락을 하나하나 기억해서 정리하기도 어렵다.

저마다 어떤 업무를 맡고있는지를 문서화 했더라도, 아무도 어떤 업무에 대한 담당자를 찾고자 할 때 그 문서를 참고하지 않는다.

언제나 관심을 갖고 갱신하지 않는 한 그 문서가 갖는 수명은 길지 않고,
그 문서가 정합한지 여부도 실제로 담당자와 연결되기 전까지 알기가 어려우며,
어떤 업무에 대한 담당자를 찾고자 하는 수요는 불특정 다수가 갖고 있는데 그렇다고 사내의 모두가 그런 수요가 있는 것은 아니다.

지속적으로 관심을 갖고 문서를 최신 상태로 유지하는 일과,
그러한 문서가 존재한다는 사실을 모두에게 숙지시키는 일에는 무시할 수 없는 비용이 발생한다.

담당자 라우팅 내지는 유실된 맥락복원의 비용을 줄이기 위해 각자의 담당업무가 무엇인지 문서화 하는 것은
개별 업무 자체의 트럭팩터를 높이기 위해 담당업무를 로테이션 하는 것과도 상성이 좋지 않다.


## 트럭팩터는 팀의 가용성을 판단하는데 그리 유용한 지표가 아니다

우리가 만드는 제품에는 여러 컴포넌트가 존재하고, 컴포넌트마다 각각 트럭팩터를 갖게 된다.

예를 들어 A 컴포넌트의 트럭팩터가 10, B 컴포넌트도 10, 하지만 C 컴포넌트는 1이라고 해보자.
ABC 모두에 관여하던 아무개가 트럭에 치였다.
A 컴포넌트와 B 컴포넌트는 안전하지만, C 컴포넌트는 망한다.

팀원이 10명이라고 했을 때 ABC 모두에 관여하는 아무개를 제외하면 누가 트럭에 치이더라도 큰 문제가 되지 않는다.

트럭팩터를 높이려고 많은 노력을 기울여서 평균 트럭팩터를 크게 높여놨다고 해도,
중요한 컴포넌트를 혼자서 담당하던 누군가가 트럭에 치인다고 하면, 운이 나쁠 경우의 트럭팩터는 1인 셈이다.

우리는 각 컴포넌트의 트럭팩터에 노력을 기울이기보다, ABC 모두에 관여하는 아무개가 [SPOF][spof]가 되지 않도록 해야한다.

각 컴포넌트 별로 몇 명이 트럭에 치였을 때 이 컴포넌트를 망하게 할 수 있는지보다,
각 팀원 별로 이 사람이 트럭에 치였을 때 몇개의 컴포넌트가 망하게 되는지
임팩트팩터를 계산하고 관리하는 것이 팀의 현실에 좀 더 맞아 떨어지는 것 같다.

[spof]: https://ko.wikipedia.org/wiki/%EB%8B%A8%EC%9D%BC_%EC%9E%A5%EC%95%A0%EC%A0%90


## 팀원 각각의 성향과 장점이 다르다

누군가는 많은 사람들에게 보여줄 수 있는 기능을 만드는 것을 좋아하고,
누군가는 복잡한 업무관계 속에서 각자의 의사를 조율하는 것을 좋아하고,
누군가는 코드 수준에서 엔지니어링적인 개선을 시도하는 것을 좋아하고,
누군가는 남들이 어려워하는 종류의 일을 혼자서 풀어내는 것을 좋아한다.

누군가가 좋아하는 업무를 누군가는 싫어한다.
누군가는 인터럽트에 대한 내성이 높지만 누군가는 인터럽트가 걸렸을 때 스트레스를 많이 받는다.
누군가는 구두로 커뮤니케이션하는 것을 선호하지만 누구는 비대면으로 커뮤니케이션 하는 것을 선호한다.
누군가는 어떤 누구랑 같이 일하는데 큰 불만이 없지만 누군가는 어떤 누구랑 같이 일하는 것을 어려워한다.

그리고 우리가 만드는 제품에는 그런 다양한 역할이 필요하다.

많은 사람들에게 보여지는 부분을 만들어야 하고,
이 과정에서 다양한 직군과 커뮤니케이션도 필요하고,
모든 컴포넌트들이 공통적으로 이용하는 핵심 패키지들을 관리해야 하고,
XSLT같이 이제는 사례를 찾아보기도 어려운 오파츠들을 활용해야하는 부분도 있다.

우리 팀원은 모두 같은 프론트엔드 엔지니어 포지션이지만, 모두 다른 성향의 프론트엔드 엔지니어다.
이런 업무 상성을 무시하고 업무를 로테이션하도록 강제하는 것은 매우 어려운 일이다.

모두가 다른 성향인것은 트럭팩터를 높이는 데에서는 장벽으로 작동했지만,
대신 다양한 성향의 팀원으로 구성된 덕에 다양한 업무 케이스를 유연하게 대처할 수 있었다.


## 정리

트럭팩터를 높이는 데는 다른 무언가를 희생해야하는 트레이드오프가 존재한다.

교환해야하는 무언가는 팀의 생산성이고 업무 만족도이고 사람과 사람 사이의 관계다.

여태까지는 각 제품의 관점에서 어떻게 하면 안정적으로 유지할 지에 대해서 생각했지만 그 제품을 유지시켜 나가는 건 사람이다.
앞으로는 각 팀원의 관점에서 어떻게 하면 업무적으로 각자 불안한 상태에 빠지지 않게 될 지에 대해서 좀 더 고민해보려고 한다.
